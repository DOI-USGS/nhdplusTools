<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate Level Paths — calculate_levelpaths • nhdplusTools</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Calculate Level Paths — calculate_levelpaths" />

<meta property="og:description" content="Calculates level paths using the stream-leveling approach of
NHD and NHDPlus. In addition to a levelpath identifier, a topological sort and
levelpath outlet identifier is provided in output. If arbolate sum is provided in
the weight column, this will match the behavior of NHDPlus. Any numeric value can be
included in this column and the largest value will be followed when no nameID is available." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nhdplusTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/nhdplusTools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/plot_nhdplus.html">Plotting with nhdplusTools</a>
    </li>
    <li>
      <a href="../articles/point_indexing.html">Indexing / Referencing</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/usgs-r/nhdplusTools">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Level Paths</h1>
    <small class="dont-index">Source: <a href='https://github.com/usgs-r/nhdplusTools/blob/master/R/calc_network.R'><code>R/calc_network.R</code></a></small>
    <div class="hidden name"><code>calculate_levelpaths.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Calculates level paths using the stream-leveling approach of
NHD and NHDPlus. In addition to a levelpath identifier, a topological sort and
levelpath outlet identifier is provided in output. If arbolate sum is provided in
the weight column, this will match the behavior of NHDPlus. Any numeric value can be
included in this column and the largest value will be followed when no nameID is available.</p>
    
    </div>

    <pre class="usage"><span class='fu'>calculate_levelpaths</span>(<span class='no'>flowline</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>flowline</th>
      <td><p>data.frame with ID, toID, nameID, and weight columns.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.frame with ID, outletID, topo_sort, and levelpath collumns.
See details for more info.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <ol>
<li><p>levelpath provides an identifier for the collection of flowlines
  that make up the single mainstem flowpath of a total upstream aggregate catchment.</p></li>
<li><p>outletID is the catchment ID (COMID in the case of NHDPlus) for the catchment
  at the outlet of the levelpath the catchment is part of.</p></li>
<li><p>topo_sort is similar to Hydroseq in NHDPlus in that large topo_sort values
  are upstream of small topo_sort values. Note that there are many valid topological
  sort orders of a directed graph. The sort order output by this function is generated
  using `igraph::topo_sort`.</p></li>
</ol>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/source'>source</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"walker_data.R"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"nhdplusTools"</span>))

<span class='no'>test_flowline</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='prepare_nhdplus.html'>prepare_nhdplus</a></span>(<span class='no'>walker_flowline</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: removing geometry</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 0 flowlines that don't apply.</span>
#&gt; <span class='warning'> Includes: Coastlines, non-dendritic paths, </span>
#&gt; <span class='warning'>and networks with drainage area less than 0 sqkm, and drainage basins smaller than FALSE</span></div><div class='input'>
<span class='no'>test_flowline</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
  <span class='kw'>ID</span> <span class='kw'>=</span> <span class='no'>test_flowline</span>$<span class='no'>COMID</span>,
  <span class='kw'>toID</span> <span class='kw'>=</span> <span class='no'>test_flowline</span>$<span class='no'>toCOMID</span>,
  <span class='kw'>nameID</span> <span class='kw'>=</span> <span class='no'>walker_flowline</span>$<span class='no'>GNIS_ID</span>,
  <span class='kw'>weight</span> <span class='kw'>=</span> <span class='no'>walker_flowline</span>$<span class='no'>ArbolateSu</span>,
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>calculate_levelpaths</span>(<span class='no'>test_flowline</span>)</div><div class='output co'>#&gt;         ID outletID topo_sort levelpath
#&gt; 1  5329435  5329303        62         1
#&gt; 2  5329347  5329347        61        62
#&gt; 3  5329291  5329291        60        61
#&gt; 4  5329359  5329363        59        33
#&gt; 5  5329333  5329333        58        60
#&gt; 6  5329371  5329371        57        59
#&gt; 7  5329377  5329377        56        58
#&gt; 8  5329399  5329375        55        36
#&gt; 9  5329405  5329405        54        57
#&gt; 10 5329427  5329427        53        56
#&gt; 11 5329413  5329413        52        55
#&gt; 12 5329419  5329419        51        54
#&gt; 13 5329407  5329407        50        53
#&gt; 14 5329387  5329387        49        52
#&gt; 15 5329415  5329845        48        43
#&gt; 16 5329355  5329355        47        51
#&gt; 17 5329337  5329337        46        50
#&gt; 18 5329345  5329335        45        41
#&gt; 19 5329341  5329341        44        49
#&gt; 20 5329815  5329313        43        19
#&gt; 21 5329319  5329319        42        48
#&gt; 22 5329309  5329309        41        47
#&gt; 23 5329307  5329307        40        46
#&gt; 24 5329297  5329299        39        39
#&gt; 25 5329295  5329295        38        45
#&gt; 26 5329871  5329391        37        28
#&gt; 27 5329379  5329375        36        36
#&gt; 28 5329845  5329845        35        43
#&gt; 29 5329819  5329363        34        33
#&gt; 30 5329335  5329335        33        41
#&gt; 31 5329841  5329313        32        19
#&gt; 32 5329299  5329299        31        39
#&gt; 33 5329383  5329391        30        28
#&gt; 34 5329375  5329375        29        36
#&gt; 35 5329363  5329363        28        33
#&gt; 36 5329321  5329313        27        19
#&gt; 37 5329849  5329391        26        28
#&gt; 38 5329325  5329313        25        19
#&gt; 39 5329393  5329391        24        28
#&gt; 40 5329327  5329313        23        19
#&gt; 41 5329391  5329391        22        28
#&gt; 42 5329323  5329313        21        19
#&gt; 43 5329389  5329303        20         1
#&gt; 44 5329817  5329313        19        19
#&gt; 45 5329397  5329303        18         1
#&gt; 46 5329311  5329313        17        19
#&gt; 47 5329395  5329303        16         1
#&gt; 48 5329313  5329313        15        19
#&gt; 49 5329821  5329303        14         1
#&gt; 50 5329385  5329303        13         1
#&gt; 51 5329847  5329303        12         1
#&gt; 52 5329843  5329303        11         1
#&gt; 53 5329373  5329303        10         1
#&gt; 54 5329365  5329303         9         1
#&gt; 55 5329357  5329303         8         1
#&gt; 56 5329343  5329303         7         1
#&gt; 57 5329339  5329303         6         1
#&gt; 58 5329315  5329303         5         1
#&gt; 59 5329317  5329303         4         1
#&gt; 60 5329305  5329303         3         1
#&gt; 61 5329293  5329303         2         1
#&gt; 62 5329303  5329303         1         1</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by David Blodgett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

