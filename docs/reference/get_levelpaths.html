<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get Level Paths — get_levelpaths • nhdplusTools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Get Level Paths — get_levelpaths" />
<meta property="og:description" content="Calculates level paths using the stream-leveling approach of
NHD and NHDPlus. In addition to a levelpath identifier, a topological sort and
levelpath outlet identifier is provided in output. If arbolate sum is provided in
the weight column, this will match the behavior of NHDPlus. Any numeric value can be
included in this column and the largest value will be followed when no nameID is available." />
<meta property="og:image" content="https://usgs-r.github.io/nhdplusTools/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nhdplusTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/nhdplusTools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/nhdplushr.html">Working with NHDPlusHR</a>
    </li>
    <li>
      <a href="../articles/plot_nhdplus.html">Plotting with nhdplusTools</a>
    </li>
    <li>
      <a href="../articles/point_indexing.html">Indexing and Referencing</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/usgs-r/nhdplusTools/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get Level Paths</h1>
    <small class="dont-index">Source: <a href='https://github.com/usgs-r/nhdplusTools/blob/master/R/get_paths.R'><code>R/get_paths.R</code></a></small>
    <div class="hidden name"><code>get_levelpaths.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates level paths using the stream-leveling approach of
NHD and NHDPlus. In addition to a levelpath identifier, a topological sort and
levelpath outlet identifier is provided in output. If arbolate sum is provided in
the weight column, this will match the behavior of NHDPlus. Any numeric value can be
included in this column and the largest value will be followed when no nameID is available.</p>
    </div>

    <pre class="usage"><span class='fu'>get_levelpaths</span>(<span class='no'>x</span>, <span class='kw'>status</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>data.frame with ID, toID, nameID, and weight columns.</p></td>
    </tr>
    <tr>
      <th>status</th>
      <td><p>boolean if status updates should be printed.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.frame with ID, outletID, topo_sort, and levelpath columns.
See details for more info.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<ol>
<li><p>levelpath provides an identifier for the collection of flowlines
  that make up the single mainstem flowpath of a total upstream aggregate catchment.</p></li>
<li><p>outletID is the catchment ID (COMID in the case of NHDPlus) for the catchment
  at the outlet of the levelpath the catchment is part of.</p></li>
<li><p>topo_sort is similar to Hydroseq in NHDPlus in that large topo_sort values
  are upstream of small topo_sort values. Note that there are many valid topological
  sort orders of a directed graph. The sort order output by this function is generated
  using `igraph::topo_sort`.</p></li>
</ol>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/source.html'>source</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"extdata"</span>, <span class='st'>"walker_data.R"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"nhdplusTools"</span>))

<span class='no'>test_flowline</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='prepare_nhdplus.html'>prepare_nhdplus</a></span>(<span class='no'>walker_flowline</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: removing geometry</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 0 flowlines that don't apply.</span>
#&gt; <span class='warning'> Includes: Coastlines, non-dendritic paths, </span>
#&gt; <span class='warning'>and networks with drainage area less than 0 sqkm, and drainage basins smaller than FALSE</span></div><div class='input'>
<span class='no'>test_flowline</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span>(
  <span class='kw'>ID</span> <span class='kw'>=</span> <span class='no'>test_flowline</span>$<span class='no'>COMID</span>,
  <span class='kw'>toID</span> <span class='kw'>=</span> <span class='no'>test_flowline</span>$<span class='no'>toCOMID</span>,
  <span class='kw'>nameID</span> <span class='kw'>=</span> <span class='no'>walker_flowline</span>$<span class='no'>GNIS_ID</span>,
  <span class='kw'>weight</span> <span class='kw'>=</span> <span class='no'>walker_flowline</span>$<span class='no'>ArbolateSu</span>,
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>get_levelpaths</span>(<span class='no'>test_flowline</span>)</div><div class='output co'>#&gt;         ID outletID topo_sort levelpath
#&gt; 1  5329435  5329303        62         1
#&gt; 2  5329347  5329347        61        61
#&gt; 3  5329291  5329291        60        60
#&gt; 4  5329359  5329363        59        28
#&gt; 5  5329333  5329333        58        58
#&gt; 6  5329371  5329371        57        57
#&gt; 7  5329377  5329377        56        56
#&gt; 8  5329399  5329375        55        29
#&gt; 9  5329405  5329405        54        54
#&gt; 10 5329427  5329427        53        53
#&gt; 11 5329413  5329413        52        52
#&gt; 12 5329419  5329419        51        51
#&gt; 13 5329407  5329407        50        50
#&gt; 14 5329387  5329387        49        49
#&gt; 15 5329415  5329845        48        35
#&gt; 16 5329355  5329355        47        47
#&gt; 17 5329337  5329337        46        46
#&gt; 18 5329345  5329335        45        33
#&gt; 19 5329341  5329341        44        44
#&gt; 20 5329815  5329313        43        15
#&gt; 21 5329319  5329319        42        42
#&gt; 22 5329309  5329309        41        41
#&gt; 23 5329307  5329307        40        40
#&gt; 24 5329297  5329299        39        31
#&gt; 25 5329295  5329295        38        38
#&gt; 26 5329871  5329391        37        22
#&gt; 27 5329379  5329375        36        29
#&gt; 28 5329845  5329845        35        35
#&gt; 29 5329819  5329363        34        28
#&gt; 30 5329335  5329335        33        33
#&gt; 31 5329841  5329313        32        15
#&gt; 32 5329299  5329299        31        31
#&gt; 33 5329383  5329391        30        22
#&gt; 34 5329375  5329375        29        29
#&gt; 35 5329363  5329363        28        28
#&gt; 36 5329321  5329313        27        15
#&gt; 37 5329849  5329391        26        22
#&gt; 38 5329325  5329313        25        15
#&gt; 39 5329393  5329391        24        22
#&gt; 40 5329327  5329313        23        15
#&gt; 41 5329391  5329391        22        22
#&gt; 42 5329323  5329313        21        15
#&gt; 43 5329389  5329303        20         1
#&gt; 44 5329817  5329313        19        15
#&gt; 45 5329397  5329303        18         1
#&gt; 46 5329311  5329313        17        15
#&gt; 47 5329395  5329303        16         1
#&gt; 48 5329313  5329313        15        15
#&gt; 49 5329821  5329303        14         1
#&gt; 50 5329385  5329303        13         1
#&gt; 51 5329847  5329303        12         1
#&gt; 52 5329843  5329303        11         1
#&gt; 53 5329373  5329303        10         1
#&gt; 54 5329365  5329303         9         1
#&gt; 55 5329357  5329303         8         1
#&gt; 56 5329343  5329303         7         1
#&gt; 57 5329339  5329303         6         1
#&gt; 58 5329315  5329303         5         1
#&gt; 59 5329317  5329303         4         1
#&gt; 60 5329305  5329303         3         1
#&gt; 61 5329293  5329303         2         1
#&gt; 62 5329303  5329303         1         1</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by David Blodgett.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


